
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A comprehensive guide to building an Internal Developer Platform using Crossplane and GitOps principles">
      
      
        <meta name="author" content="Sebastiian Ickler">
      
      
      
        <link rel="prev" href="../04-gitops-bootstrap/">
      
      
        <link rel="next" href="../../gitops-fundamentals/01-argocd-setup/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.17">
    
    
      
        <title>05: Secure Secret Management (Sealed Secrets) - Internal Developer Platform Tutorial</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.7e37652d.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#05-secure-secret-management-sealed-secrets" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Internal Developer Platform Tutorial" class="md-header__button md-logo" aria-label="Internal Developer Platform Tutorial" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Internal Developer Platform Tutorial
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              05: Secure Secret Management (Sealed Secrets)
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Internal Developer Platform Tutorial" class="md-nav__button md-logo" aria-label="Internal Developer Platform Tutorial" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Internal Developer Platform Tutorial
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introduction
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Getting Started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../01-introduction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    01: Introduction to the GitOps Workflow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../02-devbox-setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    02: Devbox Setup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../03-local-cluster-setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    03: Local Cluster Setup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../04-gitops-bootstrap/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    04: GitOps Bootstrap with ArgoCD
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    05: Secure Secret Management (Sealed Secrets)
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    05: Secure Secret Management (Sealed Secrets)
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#why-sealed-secrets" class="md-nav__link">
    <span class="md-ellipsis">
      Why Sealed Secrets?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#architecture-overview" class="md-nav__link">
    <span class="md-ellipsis">
      Architecture Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation-steps" class="md-nav__link">
    <span class="md-ellipsis">
      Installation Steps
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Installation Steps">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-install-sealed-secrets-controller" class="md-nav__link">
    <span class="md-ellipsis">
      1. Install Sealed Secrets Controller
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. Install Sealed Secrets Controller">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-create-sealed-secrets-application-manifest" class="md-nav__link">
    <span class="md-ellipsis">
      1.1 Create Sealed Secrets Application Manifest
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-commit-and-sync-the-repository" class="md-nav__link">
    <span class="md-ellipsis">
      1.2 Commit and Sync the repository
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13-watch-the-deployment" class="md-nav__link">
    <span class="md-ellipsis">
      1.3 Watch the deployment
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-install-kubeseal-cli-tool" class="md-nav__link">
    <span class="md-ellipsis">
      2. Install kubeseal CLI Tool
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Install kubeseal CLI Tool">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-install-via-devbox-recommended" class="md-nav__link">
    <span class="md-ellipsis">
      2.1 Install via DevBox (Recommended)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-alternative-installation-methods" class="md-nav__link">
    <span class="md-ellipsis">
      2.2 Alternative Installation Methods
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-verify-installation" class="md-nav__link">
    <span class="md-ellipsis">
      3. Verify Installation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Verify Installation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-check-controller-status" class="md-nav__link">
    <span class="md-ellipsis">
      3.1 Check Controller Status
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-test-cli-connectivity" class="md-nav__link">
    <span class="md-ellipsis">
      3.2 Test CLI Connectivity
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#your-first-sealed-secret" class="md-nav__link">
    <span class="md-ellipsis">
      Your First Sealed Secret
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Your First Sealed Secret">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-create-a-regular-secret-temporarily" class="md-nav__link">
    <span class="md-ellipsis">
      1. Create a Regular Secret (Temporarily)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-encrypt-the-secret" class="md-nav__link">
    <span class="md-ellipsis">
      2. Encrypt the Secret
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-examine-the-sealed-secret" class="md-nav__link">
    <span class="md-ellipsis">
      3. Examine the Sealed Secret
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-apply-and-verify" class="md-nav__link">
    <span class="md-ellipsis">
      4. Apply and Verify
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gitops-integration" class="md-nav__link">
    <span class="md-ellipsis">
      GitOps Integration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="GitOps Integration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#update-your-gitops-repository" class="md-nav__link">
    <span class="md-ellipsis">
      Update Your GitOps Repository
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verify-argocd-sync" class="md-nav__link">
    <span class="md-ellipsis">
      Verify ArgoCD Sync
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      Best Practices
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Best Practices">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-secret-naming-conventions" class="md-nav__link">
    <span class="md-ellipsis">
      1. Secret Naming Conventions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-scope-secrets-appropriately" class="md-nav__link">
    <span class="md-ellipsis">
      2. Scope Secrets Appropriately
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-certificate-management" class="md-nav__link">
    <span class="md-ellipsis">
      3. Certificate Management
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-development-workflow" class="md-nav__link">
    <span class="md-ellipsis">
      4. Development Workflow
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#security-considerations" class="md-nav__link">
    <span class="md-ellipsis">
      Security Considerations
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Security Considerations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#safe-practices" class="md-nav__link">
    <span class="md-ellipsis">
      ✅ Safe Practices
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#avoid-these-mistakes" class="md-nav__link">
    <span class="md-ellipsis">
      ❌ Avoid These Mistakes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting" class="md-nav__link">
    <span class="md-ellipsis">
      Troubleshooting
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Troubleshooting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#common-issues" class="md-nav__link">
    <span class="md-ellipsis">
      Common Issues
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#next-steps" class="md-nav__link">
    <span class="md-ellipsis">
      Next Steps
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#congratulations" class="md-nav__link">
    <span class="md-ellipsis">
      Congratulations!
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    GitOps Fundamentals
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            GitOps Fundamentals
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../gitops-fundamentals/01-argocd-setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    01: ArgoCD Setup for Crossplane
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../gitops-fundamentals/02-crossplane-integration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    02: Crossplane Integration with ArgoCD
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../gitops-fundamentals/03-workflow-patterns/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    03: GitOps Workflow Patterns
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Crossplane Fundamentals
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Crossplane Fundamentals
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../crossplane-fundamentals/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Crossplane Fundamentals
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../crossplane-fundamentals/01-azure-provider-setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Module 1: Azure Provider Setup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../crossplane-fundamentals/02-first-managed-resource/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Module 2: Your First Managed Resource
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../crossplane-fundamentals/03-understanding-crossplane/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Module 3: Understanding What Happened
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Security
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Security
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../security/01-chainguard-images/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    01: Securing the Supply Chain with Chainguard Images
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../security/02-secret-management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    02: Secret Management in a GitOps World
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../security/03-rbac/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    03: RBAC and Least Privilege
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Crossplane Advanced Patterns
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Crossplane Advanced Patterns
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../crossplane-advanced-patterns/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Crossplane Advanced Patterns
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../crossplane-advanced-patterns/01-your-first-composition/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Module 1: Your First Composition
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../crossplane-advanced-patterns/02-networking-composition/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Module 2: Networking Composition
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../crossplane-advanced-patterns/03-environment-patterns/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Module 3: Environment Patterns
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Observability
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Observability
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../observability/01-health-checks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    01: Health Checks and Resource Status
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../observability/02-monitoring-with-prometheus/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    02: Monitoring with Prometheus
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../observability/03-alerting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    03: Alerting on Infrastructure State
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Repository Management
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Repository Management
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../repository-management/01-multi-repo-strategy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    01: Multi-Repo Strategy for GitOps
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../repository-management/02-repository-templates/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    02: Repository Templates
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../repository-management/03-cross-repo-coordination/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    03: Cross-Repo Coordination with ArgoCD
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Advanced Topics
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            Advanced Topics
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/01-composition-functions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    01: Extending Crossplane with Composition Functions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/02-multi-cluster-management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    02: Multi-Cluster Management
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../troubleshooting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Troubleshooting
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#why-sealed-secrets" class="md-nav__link">
    <span class="md-ellipsis">
      Why Sealed Secrets?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#architecture-overview" class="md-nav__link">
    <span class="md-ellipsis">
      Architecture Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation-steps" class="md-nav__link">
    <span class="md-ellipsis">
      Installation Steps
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Installation Steps">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-install-sealed-secrets-controller" class="md-nav__link">
    <span class="md-ellipsis">
      1. Install Sealed Secrets Controller
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. Install Sealed Secrets Controller">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-create-sealed-secrets-application-manifest" class="md-nav__link">
    <span class="md-ellipsis">
      1.1 Create Sealed Secrets Application Manifest
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-commit-and-sync-the-repository" class="md-nav__link">
    <span class="md-ellipsis">
      1.2 Commit and Sync the repository
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13-watch-the-deployment" class="md-nav__link">
    <span class="md-ellipsis">
      1.3 Watch the deployment
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-install-kubeseal-cli-tool" class="md-nav__link">
    <span class="md-ellipsis">
      2. Install kubeseal CLI Tool
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Install kubeseal CLI Tool">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-install-via-devbox-recommended" class="md-nav__link">
    <span class="md-ellipsis">
      2.1 Install via DevBox (Recommended)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-alternative-installation-methods" class="md-nav__link">
    <span class="md-ellipsis">
      2.2 Alternative Installation Methods
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-verify-installation" class="md-nav__link">
    <span class="md-ellipsis">
      3. Verify Installation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Verify Installation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-check-controller-status" class="md-nav__link">
    <span class="md-ellipsis">
      3.1 Check Controller Status
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-test-cli-connectivity" class="md-nav__link">
    <span class="md-ellipsis">
      3.2 Test CLI Connectivity
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#your-first-sealed-secret" class="md-nav__link">
    <span class="md-ellipsis">
      Your First Sealed Secret
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Your First Sealed Secret">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-create-a-regular-secret-temporarily" class="md-nav__link">
    <span class="md-ellipsis">
      1. Create a Regular Secret (Temporarily)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-encrypt-the-secret" class="md-nav__link">
    <span class="md-ellipsis">
      2. Encrypt the Secret
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-examine-the-sealed-secret" class="md-nav__link">
    <span class="md-ellipsis">
      3. Examine the Sealed Secret
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-apply-and-verify" class="md-nav__link">
    <span class="md-ellipsis">
      4. Apply and Verify
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gitops-integration" class="md-nav__link">
    <span class="md-ellipsis">
      GitOps Integration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="GitOps Integration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#update-your-gitops-repository" class="md-nav__link">
    <span class="md-ellipsis">
      Update Your GitOps Repository
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verify-argocd-sync" class="md-nav__link">
    <span class="md-ellipsis">
      Verify ArgoCD Sync
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      Best Practices
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Best Practices">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-secret-naming-conventions" class="md-nav__link">
    <span class="md-ellipsis">
      1. Secret Naming Conventions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-scope-secrets-appropriately" class="md-nav__link">
    <span class="md-ellipsis">
      2. Scope Secrets Appropriately
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-certificate-management" class="md-nav__link">
    <span class="md-ellipsis">
      3. Certificate Management
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-development-workflow" class="md-nav__link">
    <span class="md-ellipsis">
      4. Development Workflow
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#security-considerations" class="md-nav__link">
    <span class="md-ellipsis">
      Security Considerations
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Security Considerations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#safe-practices" class="md-nav__link">
    <span class="md-ellipsis">
      ✅ Safe Practices
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#avoid-these-mistakes" class="md-nav__link">
    <span class="md-ellipsis">
      ❌ Avoid These Mistakes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting" class="md-nav__link">
    <span class="md-ellipsis">
      Troubleshooting
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Troubleshooting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#common-issues" class="md-nav__link">
    <span class="md-ellipsis">
      Common Issues
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#next-steps" class="md-nav__link">
    <span class="md-ellipsis">
      Next Steps
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#congratulations" class="md-nav__link">
    <span class="md-ellipsis">
      Congratulations!
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="05-secure-secret-management-sealed-secrets">05: Secure Secret Management (Sealed Secrets)<a class="headerlink" href="#05-secure-secret-management-sealed-secrets" title="Permanent link">&para;</a></h1>
<p>Now that we have ArgoCD managing our platform, we need to add secure secret management capabilities. Sealed Secrets allows us to encrypt sensitive data and store it safely in Git repositories, following GitOps security best practices.</p>
<h2 id="why-sealed-secrets">Why Sealed Secrets?<a class="headerlink" href="#why-sealed-secrets" title="Permanent link">&para;</a></h2>
<p>Traditional Kubernetes secrets pose a security challenge in GitOps workflows:<br />
- <strong>Plain text secrets</strong> cannot be safely stored in Git repositories<br />
- <strong>Base64 encoding</strong> provides no real security<br />
- <strong>External secret stores</strong> add complexity for development environments</p>
<p>Sealed Secrets solve this by providing:<br />
- ✅ <strong>Encryption at source</strong> - Secrets are encrypted before being stored in Git.<br />
- ✅ <strong>GitOps compatible</strong> - Encrypted secrets can be safely committed.<br />
- ✅ <strong>Cluster-specific</strong> - Only the target cluster can decrypt the secrets.<br />
- ✅ <strong>Developer friendly</strong> - Simple CLI tool for encrypting secrets.  </p>
<h2 id="architecture-overview">Architecture Overview<a class="headerlink" href="#architecture-overview" title="Permanent link">&para;</a></h2>
<div class="language-text highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>graph TD
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    A[Developer] --&gt;|1 - kubeseal| B[Encrypted SealedSecret]
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>    B --&gt;|2 - git commit| C[Git Repository]
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>    C --&gt;|3 - ArgoCD sync| D[Kubernetes Cluster]
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>    D --&gt;|4 - Controller decrypts| E[Plain Secret]
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>    E --&gt;|5 - Used by| F[Application Pods]
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>    G[Sealed Secrets Controller] --&gt;|Manages| D
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>    G --&gt;|Private Key| H[Cluster-specific Key]
</code></pre></div>
<h2 id="installation-steps">Installation Steps<a class="headerlink" href="#installation-steps" title="Permanent link">&para;</a></h2>
<h3 id="1-install-sealed-secrets-controller">1. Install Sealed Secrets Controller<a class="headerlink" href="#1-install-sealed-secrets-controller" title="Permanent link">&para;</a></h3>
<p>We'll install the Sealed Secrets controller using GitOps principles through ArgoCD.</p>
<h4 id="11-create-sealed-secrets-application-manifest">1.1 Create Sealed Secrets Application Manifest<a class="headerlink" href="#11-create-sealed-secrets-application-manifest" title="Permanent link">&para;</a></h4>
<p>Create the ArgoCD application in <code>platform-core/sealed-secrets-controller.yaml</code> to install Sealed Secrets:</p>
<div class="language-yaml highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="c1"># platform-core/sealed-secrets-controller.yaml</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">argoproj.io/v1alpha1</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Application</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="nt">metadata</span><span class="p">:</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">sealed-secrets-controller</span>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="w">  </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">argocd</span>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="w">  </span><span class="nt">finalizers</span><span class="p">:</span>
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">resources-finalizer.argocd.argoproj.io</span>
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span class="nt">spec</span><span class="p">:</span>
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a><span class="w">  </span><span class="nt">project</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">default</span>
<a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a><span class="w">  </span><span class="nt">source</span><span class="p">:</span>
<a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a><span class="w">    </span><span class="nt">repoURL</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://bitnami-labs.github.io/sealed-secrets</span>
<a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a><span class="w">    </span><span class="nt">targetRevision</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2.17.3</span>
<a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a><span class="w">    </span><span class="nt">chart</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">sealed-secrets</span>
<a id="__codelineno-1-15" name="__codelineno-1-15" href="#__codelineno-1-15"></a><span class="w">    </span><span class="nt">helm</span><span class="p">:</span>
<a id="__codelineno-1-16" name="__codelineno-1-16" href="#__codelineno-1-16"></a><span class="w">      </span><span class="nt">values</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<a id="__codelineno-1-17" name="__codelineno-1-17" href="#__codelineno-1-17"></a><span class="w">        </span><span class="no">fullnameOverride: sealed-secrets-controller</span>
<a id="__codelineno-1-18" name="__codelineno-1-18" href="#__codelineno-1-18"></a><span class="w">        </span><span class="no">resources:</span>
<a id="__codelineno-1-19" name="__codelineno-1-19" href="#__codelineno-1-19"></a><span class="w">          </span><span class="no">limits:</span>
<a id="__codelineno-1-20" name="__codelineno-1-20" href="#__codelineno-1-20"></a><span class="w">            </span><span class="no">cpu: 200m</span>
<a id="__codelineno-1-21" name="__codelineno-1-21" href="#__codelineno-1-21"></a><span class="w">            </span><span class="no">memory: 256Mi</span>
<a id="__codelineno-1-22" name="__codelineno-1-22" href="#__codelineno-1-22"></a><span class="w">          </span><span class="no">requests:</span>
<a id="__codelineno-1-23" name="__codelineno-1-23" href="#__codelineno-1-23"></a><span class="w">            </span><span class="no">cpu: 100m</span>
<a id="__codelineno-1-24" name="__codelineno-1-24" href="#__codelineno-1-24"></a><span class="w">            </span><span class="no">memory: 128Mi</span>
<a id="__codelineno-1-25" name="__codelineno-1-25" href="#__codelineno-1-25"></a><span class="w">        </span><span class="no">metrics:</span>
<a id="__codelineno-1-26" name="__codelineno-1-26" href="#__codelineno-1-26"></a><span class="w">          </span><span class="no">serviceMonitor:</span>
<a id="__codelineno-1-27" name="__codelineno-1-27" href="#__codelineno-1-27"></a><span class="w">            </span><span class="no">enabled: false</span>
<a id="__codelineno-1-28" name="__codelineno-1-28" href="#__codelineno-1-28"></a><span class="w">  </span><span class="nt">destination</span><span class="p">:</span>
<a id="__codelineno-1-29" name="__codelineno-1-29" href="#__codelineno-1-29"></a><span class="w">    </span><span class="nt">server</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://kubernetes.default.svc</span>
<a id="__codelineno-1-30" name="__codelineno-1-30" href="#__codelineno-1-30"></a><span class="w">    </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">sealed-secrets</span>
<a id="__codelineno-1-31" name="__codelineno-1-31" href="#__codelineno-1-31"></a><span class="w">  </span><span class="nt">syncPolicy</span><span class="p">:</span>
<a id="__codelineno-1-32" name="__codelineno-1-32" href="#__codelineno-1-32"></a><span class="w">    </span><span class="nt">automated</span><span class="p">:</span>
<a id="__codelineno-1-33" name="__codelineno-1-33" href="#__codelineno-1-33"></a><span class="w">      </span><span class="nt">prune</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-1-34" name="__codelineno-1-34" href="#__codelineno-1-34"></a><span class="w">      </span><span class="nt">selfHeal</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-1-35" name="__codelineno-1-35" href="#__codelineno-1-35"></a><span class="w">    </span><span class="nt">syncOptions</span><span class="p">:</span>
<a id="__codelineno-1-36" name="__codelineno-1-36" href="#__codelineno-1-36"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">CreateNamespace=true</span>
<a id="__codelineno-1-37" name="__codelineno-1-37" href="#__codelineno-1-37"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">RespectIgnoreDifferences=true</span>
</code></pre></div>
<h4 id="12-commit-and-sync-the-repository">1.2 Commit and Sync the repository<a class="headerlink" href="#12-commit-and-sync-the-repository" title="Permanent link">&para;</a></h4>
<div class="language-bash highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>git<span class="w"> </span>add<span class="w"> </span>platform-core/sealed-secrets-controller.yaml
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;Add Sealed Secrets Controller&quot;</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>gh<span class="w"> </span>repo<span class="w"> </span>sync
</code></pre></div>
<h4 id="13-watch-the-deployment">1.3 Watch the deployment<a class="headerlink" href="#13-watch-the-deployment" title="Permanent link">&para;</a></h4>
<div class="language-bash highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>kubectl<span class="w"> </span>get<span class="w"> </span>applications<span class="w"> </span>-n<span class="w"> </span>argocd<span class="w"> </span>sealed-secrets-controller
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>kubectl<span class="w"> </span>get<span class="w"> </span>pods<span class="w"> </span>-n<span class="w"> </span>sealed-secrets<span class="w"> </span>-l<span class="w"> </span>app.kubernetes.io/name<span class="o">=</span>sealed-secrets-controller
</code></pre></div>
<h3 id="2-install-kubeseal-cli-tool">2. Install kubeseal CLI Tool<a class="headerlink" href="#2-install-kubeseal-cli-tool" title="Permanent link">&para;</a></h3>
<p>The <code>kubeseal</code> CLI tool is used to encrypt secrets locally before committing them to Git.</p>
<h4 id="21-install-via-devbox-recommended">2.1 Install via DevBox (Recommended)<a class="headerlink" href="#21-install-via-devbox-recommended" title="Permanent link">&para;</a></h4>
<p>Kubeseal is already included in your DevBox environment (see: <code>devbox.json</code>).</p>
<p>Verify installation:</p>
<div class="language-bash highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>kubeseal<span class="w"> </span>--version
</code></pre></div>
<h4 id="22-alternative-installation-methods">2.2 Alternative Installation Methods<a class="headerlink" href="#22-alternative-installation-methods" title="Permanent link">&para;</a></h4>
<p><strong>macOS (Homebrew):</strong>
<div class="language-bash highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>brew<span class="w"> </span>install<span class="w"> </span>kubeseal
</code></pre></div></p>
<p><strong>Linux (Binary Download):</strong>
<div class="language-bash highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="c1"># Download the latest release</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="nv">KUBESEAL_VERSION</span><span class="o">=</span><span class="s1">&#39;0.24.0&#39;</span>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>wget<span class="w"> </span><span class="s2">&quot;https://github.com/bitnami-labs/sealed-secrets/releases/download/v</span><span class="si">${</span><span class="nv">KUBESEAL_VERSION</span><span class="si">}</span><span class="s2">/kubeseal-</span><span class="si">${</span><span class="nv">KUBESEAL_VERSION</span><span class="si">}</span><span class="s2">-linux-amd64.tar.gz&quot;</span>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>tar<span class="w"> </span>-xvzf<span class="w"> </span>kubeseal-<span class="si">${</span><span class="nv">KUBESEAL_VERSION</span><span class="si">}</span>-linux-amd64.tar.gz<span class="w"> </span>kubeseal
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a>sudo<span class="w"> </span>install<span class="w"> </span>-m<span class="w"> </span><span class="m">755</span><span class="w"> </span>kubeseal<span class="w"> </span>/usr/local/bin/kubeseal
</code></pre></div></p>
<h3 id="3-verify-installation">3. Verify Installation<a class="headerlink" href="#3-verify-installation" title="Permanent link">&para;</a></h3>
<h4 id="31-check-controller-status">3.1 Check Controller Status<a class="headerlink" href="#31-check-controller-status" title="Permanent link">&para;</a></h4>
<div class="language-bash highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="c1"># Verify the sealed secrets controller is running</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>kubectl<span class="w"> </span>get<span class="w"> </span>pods<span class="w"> </span>-n<span class="w"> </span>sealed-secrets<span class="w"> </span>-l<span class="w"> </span>app.kubernetes.io/name<span class="o">=</span>sealed-secrets
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="c1"># Check the controller logs</span>
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>kubectl<span class="w"> </span>logs<span class="w"> </span>-n<span class="w"> </span>sealed-secrets<span class="w"> </span>-l<span class="w"> </span>app.kubernetes.io/name<span class="o">=</span>sealed-secrets
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a>
<a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a><span class="c1"># Verify the CRD is installed</span>
<a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a>kubectl<span class="w"> </span>get<span class="w"> </span>crd<span class="w"> </span>sealedsecrets.bitnami.com
</code></pre></div>
<h4 id="32-test-cli-connectivity">3.2 Test CLI Connectivity<a class="headerlink" href="#32-test-cli-connectivity" title="Permanent link">&para;</a></h4>
<div class="language-bash highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="c1"># Test kubeseal CLI can communicate with the controller</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>kubeseal<span class="w"> </span>--fetch-cert<span class="w"> </span>--controller-namespace<span class="o">=</span>sealed-secrets<span class="w"> </span>--controller-name<span class="o">=</span>sealed-secrets-controller<span class="w"> </span>&gt;<span class="w"> </span>public-cert.pem
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="c1"># Verify the certificate was retrieved</span>
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a>cat<span class="w"> </span>public-cert.pem
</code></pre></div>
<h2 id="your-first-sealed-secret">Your First Sealed Secret<a class="headerlink" href="#your-first-sealed-secret" title="Permanent link">&para;</a></h2>
<p>Let's create a test sealed secret to verify everything is working.</p>
<h3 id="1-create-a-regular-secret-temporarily">1. Create a Regular Secret (Temporarily)<a class="headerlink" href="#1-create-a-regular-secret-temporarily" title="Permanent link">&para;</a></h3>
<div class="language-bash highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="c1"># Create a test secret (don&#39;t commit this!)</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>cat<span class="w"> </span>&gt;<span class="w"> </span>test-secret.yaml<span class="w"> </span><span class="s">&lt;&lt;EOF</span>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="s">apiVersion: v1</span>
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="s">kind: Secret</span>
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="s">metadata:</span>
<a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a><span class="s">  name: test-secret</span>
<a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a><span class="s">  namespace: default</span>
<a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a><span class="s">type: Opaque</span>
<a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a><span class="s">stringData:</span>
<a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a><span class="s">  username: admin</span>
<a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a><span class="s">  password: super-secret-password</span>
<a id="__codelineno-9-12" name="__codelineno-9-12" href="#__codelineno-9-12"></a><span class="s">EOF</span>
</code></pre></div>
<h3 id="2-encrypt-the-secret">2. Encrypt the Secret<a class="headerlink" href="#2-encrypt-the-secret" title="Permanent link">&para;</a></h3>
<div class="language-bash highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="c1"># Encrypt the secret using kubeseal</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>kubeseal<span class="w"> </span>-o<span class="w"> </span>yaml<span class="w"> </span>&lt;<span class="w"> </span>test-secret.yaml<span class="w"> </span>&gt;<span class="w"> </span>test-sealed-secret.yaml
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="c1"># Clean up the unencrypted secret</span>
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a>rm<span class="w"> </span>test-secret.yaml
</code></pre></div>
<h3 id="3-examine-the-sealed-secret">3. Examine the Sealed Secret<a class="headerlink" href="#3-examine-the-sealed-secret" title="Permanent link">&para;</a></h3>
<div class="language-bash highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="c1"># Look at the encrypted secret - safe to commit!</span>
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>cat<span class="w"> </span>test-sealed-secret.yaml
</code></pre></div>
<p>You'll see output like:
<div class="language-yaml highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bitnami.com/v1alpha1</span>
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">SealedSecret</span>
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="nt">metadata</span><span class="p">:</span>
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a><span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">test-secret</span>
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="w">  </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">default</span>
<a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a><span class="nt">spec</span><span class="p">:</span>
<a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a><span class="w">  </span><span class="nt">encryptedData</span><span class="p">:</span>
<a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a><span class="w">    </span><span class="nt">password</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">AgBy3i4OJSWK+PiTySYZZA9rO43cGDEQAx...</span>
<a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a><span class="w">    </span><span class="nt">username</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">AgAKAoiQm7QDhh+EoKJvGb5nSW8uaY7NOAd...</span>
<a id="__codelineno-12-10" name="__codelineno-12-10" href="#__codelineno-12-10"></a><span class="w">  </span><span class="nt">template</span><span class="p">:</span>
<a id="__codelineno-12-11" name="__codelineno-12-11" href="#__codelineno-12-11"></a><span class="w">    </span><span class="nt">metadata</span><span class="p">:</span>
<a id="__codelineno-12-12" name="__codelineno-12-12" href="#__codelineno-12-12"></a><span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">test-secret</span>
<a id="__codelineno-12-13" name="__codelineno-12-13" href="#__codelineno-12-13"></a><span class="w">      </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">default</span>
<a id="__codelineno-12-14" name="__codelineno-12-14" href="#__codelineno-12-14"></a><span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Opaque</span>
</code></pre></div></p>
<h3 id="4-apply-and-verify">4. Apply and Verify<a class="headerlink" href="#4-apply-and-verify" title="Permanent link">&para;</a></h3>
<div class="language-bash highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="c1"># Apply the sealed secret</span>
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a>kubectl<span class="w"> </span>apply<span class="w"> </span>-f<span class="w"> </span>test-sealed-secret.yaml
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a>
<a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a><span class="c1"># Verify it was decrypted automatically</span>
<a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a>kubectl<span class="w"> </span>get<span class="w"> </span>secret<span class="w"> </span>test-secret<span class="w"> </span>-o<span class="w"> </span>yaml
<a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a>
<a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a><span class="c1"># Clean up test resources</span>
<a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a>kubectl<span class="w"> </span>delete<span class="w"> </span>-f<span class="w"> </span>test-sealed-secret.yaml
<a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a>rm<span class="w"> </span>test-sealed-secret.yaml<span class="w"> </span>public-cert.pem
</code></pre></div>
<h2 id="gitops-integration">GitOps Integration<a class="headerlink" href="#gitops-integration" title="Permanent link">&para;</a></h2>
<h3 id="update-your-gitops-repository">Update Your GitOps Repository<a class="headerlink" href="#update-your-gitops-repository" title="Permanent link">&para;</a></h3>
<p>Now that Sealed Secrets is installed, update your platform repository structure:</p>
<div class="language-bash highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="c1"># Add to your platform repository</span>
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>git<span class="w"> </span>add<span class="w"> </span>platform-core/sealed-secrets-controller.yaml
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a>git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;feat: add sealed secrets controller for secure secret management&quot;</span>
<a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a>git<span class="w"> </span>push
</code></pre></div>
<h3 id="verify-argocd-sync">Verify ArgoCD Sync<a class="headerlink" href="#verify-argocd-sync" title="Permanent link">&para;</a></h3>
<p>Check that ArgoCD has successfully deployed Sealed Secrets:</p>
<div class="language-bash highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="c1"># Check ArgoCD application status</span>
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a>argocd<span class="w"> </span>app<span class="w"> </span>get<span class="w"> </span>sealed-secrets-controller
<a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a>
<a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a><span class="c1"># Verify in ArgoCD UI</span>
<a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a>kubectl<span class="w"> </span>port-forward<span class="w"> </span>svc/argocd-server<span class="w"> </span>-n<span class="w"> </span>argocd<span class="w"> </span><span class="m">8080</span>:443
</code></pre></div>
<p>Log in to ArgoCD at https://localhost:8080 and verify the <code>sealed-secrets-controller</code> application is healthy and synced.</p>
<h2 id="best-practices">Best Practices<a class="headerlink" href="#best-practices" title="Permanent link">&para;</a></h2>
<h3 id="1-secret-naming-conventions">1. Secret Naming Conventions<a class="headerlink" href="#1-secret-naming-conventions" title="Permanent link">&para;</a></h3>
<div class="language-yaml highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="c1"># Use descriptive names and proper namespacing</span>
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="nt">metadata</span><span class="p">:</span>
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a><span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">azure-crossplane-credentials</span>
<a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a><span class="w">  </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">crossplane-system</span>
</code></pre></div>
<h3 id="2-scope-secrets-appropriately">2. Scope Secrets Appropriately<a class="headerlink" href="#2-scope-secrets-appropriately" title="Permanent link">&para;</a></h3>
<div class="language-bash highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="c1"># Cluster-wide secret (default)</span>
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a>kubeseal<span class="w"> </span>-o<span class="w"> </span>yaml<span class="w"> </span>&lt;<span class="w"> </span>secret.yaml<span class="w"> </span>&gt;<span class="w"> </span>sealed-secret.yaml
<a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a>
<a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a><span class="c1"># Namespace-scoped secret (more secure)</span>
<a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a>kubeseal<span class="w"> </span>--scope<span class="w"> </span>namespace-wide<span class="w"> </span>-o<span class="w"> </span>yaml<span class="w"> </span>&lt;<span class="w"> </span>secret.yaml<span class="w"> </span>&gt;<span class="w"> </span>sealed-secret.yaml
<a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a>
<a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a><span class="c1"># Strict mode (name and namespace must match exactly)</span>
<a id="__codelineno-17-8" name="__codelineno-17-8" href="#__codelineno-17-8"></a>kubeseal<span class="w"> </span>--scope<span class="w"> </span>strict<span class="w"> </span>-o<span class="w"> </span>yaml<span class="w"> </span>&lt;<span class="w"> </span>secret.yaml<span class="w"> </span>&gt;<span class="w"> </span>sealed-secret.yaml
</code></pre></div>
<h3 id="3-certificate-management">3. Certificate Management<a class="headerlink" href="#3-certificate-management" title="Permanent link">&para;</a></h3>
<div class="language-bash highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="c1"># Backup the encryption certificate (store securely!)</span>
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>kubectl<span class="w"> </span>get<span class="w"> </span>secret<span class="w"> </span>-n<span class="w"> </span>sealed-secrets<span class="w"> </span>sealed-secrets-key<span class="w"> </span>-o<span class="w"> </span>yaml<span class="w"> </span>&gt;<span class="w"> </span>sealed-secrets-master-key.yaml
<a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a>
<a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a><span class="c1"># For disaster recovery, you can restore the key:</span>
<a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a><span class="c1"># kubectl apply -f sealed-secrets-master-key.yaml</span>
</code></pre></div>
<h3 id="4-development-workflow">4. Development Workflow<a class="headerlink" href="#4-development-workflow" title="Permanent link">&para;</a></h3>
<div class="language-bash highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="c1"># 1. Create secret template</span>
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>cat<span class="w"> </span>&gt;<span class="w"> </span>secret.yaml<span class="w"> </span><span class="s">&lt;&lt;EOF</span>
<a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a><span class="s">apiVersion: v1</span>
<a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a><span class="s">kind: Secret</span>
<a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a><span class="s">metadata:</span>
<a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a><span class="s">  name: my-app-secret</span>
<a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a><span class="s">  namespace: default</span>
<a id="__codelineno-19-8" name="__codelineno-19-8" href="#__codelineno-19-8"></a><span class="s">type: Opaque</span>
<a id="__codelineno-19-9" name="__codelineno-19-9" href="#__codelineno-19-9"></a><span class="s">stringData:</span>
<a id="__codelineno-19-10" name="__codelineno-19-10" href="#__codelineno-19-10"></a><span class="s">  api-key: &quot;your-secret-value&quot;</span>
<a id="__codelineno-19-11" name="__codelineno-19-11" href="#__codelineno-19-11"></a><span class="s">EOF</span>
<a id="__codelineno-19-12" name="__codelineno-19-12" href="#__codelineno-19-12"></a>
<a id="__codelineno-19-13" name="__codelineno-19-13" href="#__codelineno-19-13"></a><span class="c1"># 2. Encrypt with kubeseal</span>
<a id="__codelineno-19-14" name="__codelineno-19-14" href="#__codelineno-19-14"></a>kubeseal<span class="w"> </span>-o<span class="w"> </span>yaml<span class="w"> </span>&lt;<span class="w"> </span>secret.yaml<span class="w"> </span>&gt;<span class="w"> </span>sealed-secret.yaml
<a id="__codelineno-19-15" name="__codelineno-19-15" href="#__codelineno-19-15"></a>
<a id="__codelineno-19-16" name="__codelineno-19-16" href="#__codelineno-19-16"></a><span class="c1"># 3. Remove plain text secret</span>
<a id="__codelineno-19-17" name="__codelineno-19-17" href="#__codelineno-19-17"></a>rm<span class="w"> </span>secret.yaml
<a id="__codelineno-19-18" name="__codelineno-19-18" href="#__codelineno-19-18"></a>
<a id="__codelineno-19-19" name="__codelineno-19-19" href="#__codelineno-19-19"></a><span class="c1"># 4. Commit encrypted secret</span>
<a id="__codelineno-19-20" name="__codelineno-19-20" href="#__codelineno-19-20"></a>git<span class="w"> </span>add<span class="w"> </span>sealed-secret.yaml
<a id="__codelineno-19-21" name="__codelineno-19-21" href="#__codelineno-19-21"></a>git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;feat: add encrypted API key for my-app&quot;</span>
<a id="__codelineno-19-22" name="__codelineno-19-22" href="#__codelineno-19-22"></a>git<span class="w"> </span>push
</code></pre></div>
<h2 id="security-considerations">Security Considerations<a class="headerlink" href="#security-considerations" title="Permanent link">&para;</a></h2>
<h3 id="safe-practices">✅ Safe Practices<a class="headerlink" href="#safe-practices" title="Permanent link">&para;</a></h3>
<ul>
<li>Always delete unencrypted secret files after sealing</li>
<li>Use appropriate scoping (strict/namespace-wide/cluster-wide)</li>
<li>Backup and secure the master encryption key</li>
<li>Rotate secrets periodically</li>
</ul>
<h3 id="avoid-these-mistakes">❌ Avoid These Mistakes<a class="headerlink" href="#avoid-these-mistakes" title="Permanent link">&para;</a></h3>
<ul>
<li>Never commit unencrypted secrets to Git</li>
<li>Don't share the master encryption key publicly</li>
<li>Avoid using cluster-wide scope for sensitive secrets</li>
<li>Don't modify encrypted data manually</li>
</ul>
<h2 id="troubleshooting">Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permanent link">&para;</a></h2>
<h3 id="common-issues">Common Issues<a class="headerlink" href="#common-issues" title="Permanent link">&para;</a></h3>
<p><strong>1. kubeseal can't connect to controller:</strong>
<div class="language-bash highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="c1"># Check if controller is running</span>
<a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a>kubectl<span class="w"> </span>get<span class="w"> </span>pods<span class="w"> </span>-n<span class="w"> </span>sealed-secrets<span class="w"> </span>-l<span class="w"> </span>app.kubernetes.io/name<span class="o">=</span>sealed-secrets
<a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a>
<a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a><span class="c1"># Check service endpoint</span>
<a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a>kubectl<span class="w"> </span>get<span class="w"> </span>svc<span class="w"> </span>-n<span class="w"> </span>sealed-secrets<span class="w"> </span>sealed-secrets-controller
</code></pre></div></p>
<p><strong>2. Certificate fetch fails:</strong>
<div class="language-bash highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="c1"># Explicitly specify controller details</span>
<a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a>kubeseal<span class="w"> </span>--fetch-cert<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a><span class="w">  </span>--controller-namespace<span class="o">=</span>sealed-secrets<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a><span class="w">  </span>--controller-name<span class="o">=</span>sealed-secrets-controller
</code></pre></div></p>
<p><strong>3. Sealed secret not decrypting:</strong>
<div class="language-bash highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="c1"># Check controller logs</span>
<a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a>kubectl<span class="w"> </span>logs<span class="w"> </span>-n<span class="w"> </span>sealed-secrets<span class="w"> </span>-l<span class="w"> </span>app.kubernetes.io/name<span class="o">=</span>sealed-secrets
<a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a>
<a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a><span class="c1"># Verify sealed secret format</span>
<a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a>kubectl<span class="w"> </span>describe<span class="w"> </span>sealedsecret<span class="w"> </span>&lt;secret-name&gt;
</code></pre></div></p>
<h2 id="next-steps">Next Steps<a class="headerlink" href="#next-steps" title="Permanent link">&para;</a></h2>
<p>With Sealed Secrets now configured, you can:</p>
<ol>
<li><strong>Securely store cloud credentials</strong> for Crossplane providers</li>
<li><strong>Manage application secrets</strong> through GitOps workflows  </li>
<li><strong>Follow security best practices</strong> from development through production</li>
<li><strong>Scale secret management</strong> across multiple environments</li>
</ol>
<p>Sealed Secrets is now a foundational component of your GitOps platform, enabling secure secret management throughout the tutorial.</p>
<h2 id="congratulations">Congratulations!<a class="headerlink" href="#congratulations" title="Permanent link">&para;</a></h2>
<p>You've successfully extended your Kubernetes cluster with enterprise-grade secret management capabilities. Your platform now supports:</p>
<ul>
<li>✅ <strong>Secure GitOps workflows</strong> with encrypted secrets</li>
<li>✅ <strong>Developer-friendly</strong> secret encryption process</li>
<li>✅ <strong>Production-ready</strong> security practices</li>
<li>✅ <strong>Foundation</strong> for Crossplane credential management</li>
</ul>
<p><strong>➡️ <a href="../crossplane-fundamentals/01-provider-setup.md">Next Section: Crossplane Integration</a></strong></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.copy"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.92b07e13.min.js"></script>
      
    
  </body>
</html>